---
title: Ala topology
format: html
mermaid-format: svg
execute:
  warning: false
  echo: true
---

# Ala

```{python}
from kimmdy.parsing import read_topol
from kimmdy.topology.topology import Topology
from pathlib import Path
from kimmdy.misc_helper import top_to_graph
```

```{python}
ala_top = read_topol(Path('../../../example/example_ala/Ala_out.top'))
ala_top_mod = read_topol(Path('../../../example/example_ala/hat_tf_015/5_recipe/topol_mod.top'))
ffdir = Path("../assets/amber99sb-star-ildnp.ff")
ffpatch = Path('amber99sb_patches.xml')
top = Topology(ala_top, ffdir, ffpatch)
top_mod = Topology(ala_top_mod, ffdir, ffpatch)

ls = top_to_graph(top) 
with open("ala-top.dot", "w") as f:
  f.writelines(ls)

ls = top_to_graph(top_mod) 
with open("ala-top-mod.dot", "w") as f:
  f.writelines(ls)
```

Top, Ala and

Top, Ala after

`Recipe: [Conversion(type=<ConversionType.BREAK: 1>, atom_idx=('12', '10')), Conversion(type=<ConversionType.BIND: 2>, atom_idx=('12', '9'))]`

Problem: 

```
ERROR 1 [file topol_mod.top, line 126]:
  No default Angle types

See:
7        9        12       1       
```


:::: {#fig-label layout="[[1,1]]"}

```{dot}
//| echo: false
//| label: fig-ala
//| fig-cap: "A diagram of the ala topology"
//| file: ala-top.dot
```

```{dot}
//| echo: false
//| label: fig-ala-mod
//| fig-cap: "A diagram of the ala-mod topology"
//| file: ala-top-mod.dot
```

caption
::::


